# -*- indent-tabs-mode: nil; -*-

⟦ traces = console ⟧

C(x) = exit x /*println("exited")*/. s2s x?{y}. enter y /*println("entered")*/.

P(x) = expel x /*println("expelled")*/. s2s x!{νy}. accept y /*println("accepted")*/.

Main = ν(x) "p"[ "c"[ ! 2 c2p x?{y}/*IO.pure(_) <* IO.println("c2p")*/. C(y) ] | ! 2 p2c x!{νy}/*println("p2c")*/. P(y) ]

⟦ snapshot = n ⟧
